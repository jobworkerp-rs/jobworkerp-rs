syntax = "proto3";

package jobworkerp.runner;

// # shell command arguments
message CommandArgs {
  // # linux shell command name (e.g. "echo")
  string command = 1;
  // # list of arguments
  repeated string args = 2;
  // # whether to monitor memory usage
  bool with_memory_monitoring = 3;
  // # if true, non-zero exit code will be treated as an error (default: false for backward compatibility)
  bool treat_nonzero_as_error = 4;
  // # exit codes to treat as success (default: [0] when treat_nonzero_as_error is true)
  // # useful for commands like grep that return 1 when no match found
  repeated int32 success_exit_codes = 5;
  // # working directory for the command
  string working_dir = 6;
}

